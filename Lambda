Lambda

 デフォルトのタイムアウトは3秒で、
AWS Lambdaのリクエストあたりの最大実行時間は900秒です。
これは15分に相当します。よって、15分を超過した処理が発生すると計算処理が途中で終了してしまいます。

Amazon Kinesis Data Firehose では、データストアにロードする前にストリーミングデータを準備するよう設定できます。AWS マネジメントコンソールの Amazon Kinesis Data Firehose 配信ストリーム設定タブから、AWS Lambda 関数を選択します。この関数は、Amazon Kinesis Data Firehose で自動的にすべての入力データレコードに適用されます。

他のAWSリソースと連携するLambdaファンクションを作成する際にはIAMによる実行ロールをLambdaファンクションに設定して、アクセス権限を付与することが必要です。 このIAMロールに付与されたアクセス権限によって、Lambdaファンクションが操作できるAWSリソースの範囲が決まります。

Lambda 関数の実行ロールは、AWS サービスおよびリソースにアクセスする許可を関数に付与する AWS Identity and Access Management (IAM) ロールです。関数を作成する際にこのロールを指定すると、関数が呼び出されたときにLambda がこのロールを引き受けます。Amazon CloudWatch にログを送信し、トレースデータを AWS X-Ray にアップロードするためのアクセス許可をもつ、開発用の実行ロールを作成できます。

これまではHTTP経由で Lambda関数を実行するためには、API Gateway を経由する必要がありました。
しかしながら、 
関数 URL(Function URLs)
 という新機能が実装されたため、API Gatewayを省略したパブリックに公開するAPIや、簡易な認証実装でも差し支えの無いAPIを AWSLambdaで実装することができます。

RDSとの接続
RDSプロキシとの接続じゃ無いといけない


Lambda関数をAWS SAMを利用して構成展開をする
その展開にはCloudformationテンプレートを利用することになります。テンプレート内では、LambdaからRDSへのアクセスを実施するため、RDS側のSecurityGroupIngressにLambdaセキュリティグループを許可する設定を行います。SecurityGroupEgress は、通常、Ingress ルールと Egress ルールの中でセキュリティグループが相互に参照できるようにするために必要な場合にのみ使用します。SecurityGroupIngress と SecurityGroupEgress は、通常、Ingress ルールと Egress ルールの中でセキュリティグループが相互に参照できるようにするために必要な場合にのみ使用します。それ以外の場合、SecurityGroup の埋め込み Ingress ルールと Egress ルールを使用します。

Lambda Layer
複数のLambda関数でライブラリを共有できる仕組みであり、一定の機能をLayerにまとめて、構成することができます。これまでは同じライブラリを利用する関数が複数あった場合、全ての関数に対してライブラリを含めてパッケージングすることが必要でした。それを、ライブラリをLayerとしてアップロードしておくことで、個々の関数は共通のLayerを使用することができます。今回のシナリオでは、複数のLambda関数の処理の一部分が重複しています。これをLambda Layerを利用することで、重複部分も共有化することができます。

Invocation
Lambda関数の名前空間にあるメトリクスです。イベントまたは API 呼び出しに応じて呼び出される関数の回数を測定します。